{"version":3,"file":"fishry.js.map","sources":["ng://fishry/lib/store/actions/fishry.actions.ts","ng://fishry/lib/store/reducers/fishry.reducer.ts","ng://fishry/lib/store/fishry.store.ts","ng://fishry/lib/fishry.service.ts","ng://fishry/lib/fishry.component.ts","ng://fishry/lib/components/fishry-image/fishry-image.component.ts","ng://fishry/lib/components/carousel/carousel.component.ts","ng://fishry/lib/components/nav/nav.component.ts","ng://fishry/lib/fishry.module.ts"],"sourcesContent":["import { AppStateModel } from \"../models/fishry.model\";\n\nexport class Action {\n\tconstructor(public type: string, public payload?: Partial<AppStateModel>) { }\n}\n\nexport const SET = 'SET';\nexport const UPDATE = 'UPDATE';\nexport const DELETE = 'DELETE';\n\nexport class setTest implements Action {\n\treadonly type = 'SET';\n\n\tconstructor(public payload: AppStateModel) { }\n}\n\nexport class updateTest implements Action {\n\treadonly type = 'UPDATE';\n\n\tconstructor(public payload: AppStateModel) { }\n}\n\nexport class deleteTest implements Action {\n\treadonly type = 'DELETE';\n\n\tconstructor(public payload: AppStateModel) { }\n}\n\nexport type Actions = setTest | updateTest | deleteTest;","import { scan } from \"rxjs/operators\";\n\nimport * as FishryActions from '../actions/fishry.actions';\nimport { AppStateModel } from \"../models/fishry.model\";\nimport { omit } from \"lodash\";\n\nexport const reducer = () =>\n\tscan<any>((state: AppStateModel, action: FishryActions.Actions) => {\n\t\tlet next;\n\t\tswitch (action.type) {\n\t\t\tcase FishryActions.SET:\n\t\t\t\tnext = action.payload;\n\t\t\t\tbreak;\n\t\t\tcase FishryActions.UPDATE:\n\t\t\t\tnext = { ...state, ...action.payload };\n\t\t\t\tbreak;\n\t\t\tcase FishryActions.DELETE:\n\t\t\t\tnext = omit(state, action.payload);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tnext = state;\n\t\t\t\tbreak;\n\t\t}\n\t\t/* if (state.isPlatformBrowser) {\n\t\t\tconst win = window as any;\n\t\t\twin.devTools.send(action.type, next);\n\t\t} */\n\n\t\treturn next;\n\t}, {});","import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { Subject, Observable, pipe, BehaviorSubject } from 'rxjs';\nimport { scan, map, distinctUntilChanged, shareReplay } from 'rxjs/operators';\nimport { reducer } from './reducers/fishry.reducer';\nimport { get, isEqual } from 'lodash';\n\nimport * as FishryActions from './actions/fishry.actions';\nimport { AppStateModel } from \"./models/fishry.model\";\nimport { Action } from \"./actions/fishry.actions\";\nimport { isPlatformBrowser } from \"@angular/common\";\n\n// const win = window as any;\n\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class FishryStore {\n\t// state$: Observable<any>;\n\tprivate _state$: BehaviorSubject<AppStateModel>;\n\tactions: Subject<Action> = new Subject();\n\n\tdevTools: any;\n\tinitialState: AppStateModel;\n\n\tconstructor(\n\t\t@Inject(PLATFORM_ID) private platformId: Object,\n\t) {\n\n\t\tthis._state$ = new BehaviorSubject((this.initialState));\n\t\t// this.state$ = this._state$.asObservable();\n\n\t\tthis.actions.pipe(\n\t\t\treducer(),\n\t\t\tshareReplay(1),\n\t\t).subscribe((state) => this._state$.next(state));\n\t\t// Redux Dev Tools\n\t\tif (isPlatformBrowser(this.platformId)) {\n\t\t\t// const win = window as any;\n\t\t\t// win.devTools = win.__REDUX_DEVTOOLS_EXTENSION__.connect();\n\t\t}\n\t}\n\n\tselect$(path: string): Observable<any> {\n\t\treturn this.state$.pipe(select(path));\n\t}\n\n\tselect(path: string): Promise<any> {\n\t\treturn this.state$.pipe(select(path)).toPromise()\n\t}\n\n\tdispatch(action: Action) {\n\t\tthis.actions.next(action);\n\t}\n\n\tget state(): AppStateModel {\n\t\treturn this._state$.getValue();\n\t}\n\n\tget state$(): Observable<AppStateModel> {\n\t\treturn this._state$.asObservable();\n\t}\n\n\tsetState(nextState: AppStateModel): void {\n\t\tthis._state$.next(nextState);\n\t}\n\n}\n\nexport const select = path =>\n\tpipe(\n\t\tmap(state => get(state, path, null)),\n\t\tdistinctUntilChanged(isEqual)\n\t)","import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { FishryStore } from \"./store/fishry.store\";\nimport { Http } from '@angular/http';\nimport { map, share, catchError, tap } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { Action } from './store/actions/fishry.actions';\nimport { IGeneralSettings, AppStateModel } from \"./store/models/fishry.model\";\n// import { makeStateKey, TransferState } from '@angular/platform-browser';\nimport { isPlatformBrowser } from '@angular/common';\nimport { TransferState, makeStateKey } from '@angular/platform-browser';\n\nimport * as Redis from 'redis';\n\nconst STATE_KEY = makeStateKey('appState');\n@Injectable({\n  providedIn: 'root'\n})\nexport class FishryService {\n\n  appState: AppStateModel = {\n    isLoaded: false,\n    generalSettings: null,\n    themeSettings: null,\n    navigation: null,\n    storeSettings: null,\n    storeID: null,\n    domain: null,\n    isPlatformBrowser: false\n  };\n\n  private redisUrl: string = 'https://fishry-storefront-stg-ngx.azurewebsites.net';\n\n  constructor(\n    @Inject('domain') public domain: string,\n    private http: Http,\n    private store: FishryStore,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private state: TransferState\n  ) {\n    this.initDomain(domain);\n    this.appState = this.state.get(STATE_KEY, null as AppStateModel);\n    if (!this.appState) {\n      console.log('appState not set');\n      this.initGeneralSettings(domain).subscribe();\n    } else {\n      console.log('appState alrady set');\n      this.store.dispatch(new Action('SET', {\n        isLoaded: this.appState.isLoaded,\n        generalSettings: this.appState.generalSettings,\n        themeSettings: this.appState.themeSettings,\n        navigation: this.appState.navigation,\n        storeSettings: this.appState.storeSettings,\n        storeID: this.appState.storeID,\n        domain: this.appState.domain,\n        isPlatformBrowser: false\n      }));\n      console.log('the state', this.store.state);\n    }\n  }\n\n  initDomain(domain: string) {\n    this.store.dispatch(new Action('SET', { domain: domain }));\n  }\n\n  initGeneralSettings(domain: string) {\n    return this.fetchGeneralSettings(this.domain).pipe(\n      catchError((err) => {\n        return throwError(err)\n      }),\n      tap((result: IGeneralSettings) => {\n        console.log('result', result);\n        this.store.dispatch(new Action('UPDATE', { generalSettings: result }));\n        this.initThemeSettings(result.theme_settings);\n        this.initStoreID(result.storeID);\n        this.initStoreSettings(result.settings)\n        this.initNavigation(result.nav_data);\n        this.store.dispatch(new Action('UPDATE', { isLoaded: true }));\n        let appState: AppStateModel = {\n          isLoaded: this.store.state.isLoaded,\n          generalSettings: this.store.state.generalSettings,\n          themeSettings: this.store.state.themeSettings,\n          navigation: this.store.state.navigation,\n          storeSettings: this.store.state.storeSettings,\n          storeID: this.store.state.storeID,\n          domain: this.store.state.domain,\n          isPlatformBrowser: false\n        }\n        this.state.set(STATE_KEY, appState as AppStateModel);\n      }, error => console.error('error', error.message)\n      )\n    )\n  }\n\n  initThemeSettings(themeSettings: any) {\n    themeSettings = JSON.parse(themeSettings);\n    let mainBanner = themeSettings.mainBanner;\n    mainBanner = Object.keys(mainBanner).map(i => mainBanner[i]);\n    themeSettings.mainBanner = mainBanner;\n    this.store.dispatch(new Action('UPDATE', { themeSettings: themeSettings }))\n  }\n\n  fixThemeSettingsData(themeSettings: any) {\n    let mainBanner = themeSettings.mainBanner;\n    mainBanner = Object.keys(mainBanner).map(i => mainBanner[i]);\n    themeSettings.mainBanner = mainBanner;\n  }\n\n  initStoreID(storeID: string) {\n    this.store.dispatch(new Action('UPDATE', { storeID: storeID }))\n  }\n\n  initStoreSettings(settings: any) {\n    settings = JSON.parse(settings);\n    this.store.dispatch(new Action('UPDATE', { storeSettings: settings }));\n  }\n\n  initNavigation(navigation: any) {\n    this.store.dispatch(new Action('UPDATE', { navigation: navigation }));\n  }\n\n  private fetchGeneralSettings(appDomain?: string) {\n    let response = this.http.get(`${this.redisUrl}/get-store-info?domain=${appDomain}`);\n    return response.pipe(\n      map(resp => resp.json().data),\n      share()\n    );\n  }\n}\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'fishry-fishry',\n  template: `\n    <p>\n      fishry works!\n    </p>\n  `,\n  styles: []\n})\nexport class FishryComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit, Input, ViewChild, ElementRef, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Component({\n  selector: 'fishry-image',\n  templateUrl: './fishry-image.component.html',\n  styleUrls: ['./fishry-image.component.scss']\n})\nexport class FishryImageComponent implements OnInit {\n  @Input() src: string = '';\n  @Input() route: string = 'product';\n  @Input() size: string = '';\n  @Input() enableLazyLoad: boolean = true;\n\n  @ViewChild('img') img: ElementRef;\n  highRes: HTMLImageElement;\n  highResReady: boolean = false;\n  // cdn: string = environment.cdn;\n  cdn: string = 'https://fishry-image.azureedge.net/';\n\n  constructor(@Inject(PLATFORM_ID) private platformId: Object) { }\n\n  ngOnInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.highRes = new Image();\n      this.activeLoad();\n\n      if (this.enableLazyLoad) {\n        this.lazyLoad();\n      }\n    }\n  }\n\n  activeLoad() {\n    this.img.nativeElement.onerror = () => {\n      if (this.src) {\n        this.img.nativeElement.src = `${this.cdn}${this.route}/${this.src}`;\n      } else {\n        this.img.nativeElement.onerror = null;\n      }\n    };\n\n    if (this.src) {\n      if (this.enableLazyLoad && this.size !== 'xxxs') {\n        // If lazy loading is enabled, return xxs.\n        this.img.nativeElement.src = `${this.cdn}${this.route}/${this.src}/xxs`;\n      } else if (this.size) {\n        // If lazy loading is disabled, and size is mentioned, return size.\n        this.img.nativeElement.src = `${this.cdn}${this.route}/${this.src}/${this.size}`;\n      } else {\n        // If lazy loading is disabled and size is not mentioned, return full size.\n        this.img.nativeElement.src = `${this.cdn}${this.route}/${this.src}`;\n      }\n    }\n  }\n\n  lazyLoad() {\n    if (this.size === '') {\n      this.highRes.src = `${this.cdn}${this.route}/${this.src}`;\n    } else {\n      this.highRes.src = `${this.cdn}${this.route}/${this.src}/${this.size}`;\n    }\n\n    this.highRes.onload = () => {\n      this.highResReady = true;\n      this.img.nativeElement.src = this.highRes.src;\n    };\n\n    if (this.size) {\n      this.highRes.onerror = () => {\n        this.img.nativeElement.src = `${this.cdn}${this.route}/${this.src}`;\n        this.highRes.onerror = null;\n      };\n    }\n  }\n\n  ngAfterViewInit() {\n    this.img.nativeElement.onload = () => {\n      if (!this.highResReady) {\n        this.img.nativeElement.classList.add('loaded');\n      } else {\n        this.img.nativeElement.classList.remove('blur-in');\n      }\n    };\n    // if (this.platformService.platformBrowser()) {\n    // }\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { NguCarouselConfig } from '@ngu/carousel';\nimport { IBanner } from '../../store/models/banner.model';\n\n@Component({\n  selector: 'fishry-carousel',\n  templateUrl: './carousel.component.html',\n  styleUrls: ['./carousel.component.scss']\n})\nexport class CarouselComponent implements OnInit {\n  @Input() banner: IBanner[] = [];\n\n  carouselOne: NguCarouselConfig = {\n    grid: { xs: 1, sm: 1, md: 1, lg: 1, all: 0 },\n    slide: 1,\n    speed: 400,\n    // interval: 4000,\n    point: {\n      visible: true\n    },\n    load: 2,\n    touch: true,\n    loop: true,\n    custom: 'banner'\n  }\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'fishry-nav',\n  templateUrl: './nav.component.html',\n  styleUrls: ['./nav.component.scss']\n})\nexport class NavComponent implements OnInit {\n  @Input() menuItems: any[];\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  listExists(item): boolean {\n    if (item.list && item.list.length > 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  listEmpty(item): boolean {\n    if (item.list && item.list.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FishryComponent } from './fishry.component';\nimport { CommonModule } from '@angular/common';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatMenuModule, MatButtonModule } from \"@angular/material\";\nimport { NguCarouselModule } from '@ngu/carousel';\nimport { ModuleWithProviders } from '@angular/compiler/src/core';\nimport { FishryService } from './fishry.service';\nimport { FishryImageComponent } from './components/fishry-image/fishry-image.component';\nimport { CarouselComponent } from './components/carousel/carousel.component';\nimport { NavComponent } from './components/nav/nav.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserAnimationsModule,\n    MatMenuModule,\n    MatButtonModule,\n    NguCarouselModule\n  ],\n  declarations: [FishryComponent, FishryImageComponent, CarouselComponent, NavComponent],\n  exports: [FishryComponent, FishryImageComponent, CarouselComponent, NavComponent]\n})\nexport class FishryModule {\n  domain: string;\n  static forRoot(domain: string): ModuleWithProviders {\n    return {\n      ngModule: FishryModule,\n      providers: [\n        FishryService,\n        {\n          provide: 'domain',\n          useValue: domain\n        }\n      ]\n    }\n  }\n}\n"],"names":["FishryActions.SET","FishryActions.UPDATE","FishryActions.DELETE"],"mappings":"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"}
